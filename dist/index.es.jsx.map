{"version":3,"file":"index.es.jsx","sources":["../src/lib/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { useState } from \"react\";\n\ntype imgResolution =\n  | \"default\"\n  | \"mqdefault\"\n  | \"hqdefault\"\n  | \"sddefault\"\n  | \"maxresdefault\";\n\ninterface LiteYouTube {\n  announce: string;\n  id: string;\n  title: string;\n  activatedClass?: string;\n  adNetwork?: boolean;\n  iframeClass?: string;\n  noCookie?: boolean;\n  cookie?: boolean;\n  params?: string;\n  playerClass?: string;\n  playlist?: boolean;\n  playlistCoverId?: string;\n  poster?: imgResolution;\n  wrapperClass?: string;\n  onIframeAdded?: () => void\n}\n\nexport default function LiteYouTubeEmbed(props: LiteYouTube) {\n  const [preconnected, setPreconnected] = useState(false);\n  const [iframe, setIframe] = useState(false);\n  const videoId = encodeURIComponent(props.id);\n  const videoPlaylisCovertId = typeof props.playlistCoverId === 'string' ? encodeURIComponent(props.playlistCoverId) : null;\n  const videoTitle = props.title;\n  const posterImp = props.poster || \"hqdefault\";\n  const paramsImp = `&${props.params}` || \"\";\n  const announceWatch = props.announce || \"Watch\";\n  const posterUrl = !props.playlist ?\n    `https://i.ytimg.com/vi/${videoId}/${posterImp}.jpg`:\n    `https://i.ytimg.com/vi/${videoPlaylisCovertId}/${posterImp}.jpg`;\n  let ytUrl = props.noCookie\n    ? \"https://www.youtube-nocookie.com\"\n    : \"https://www.youtube.com\";\n  ytUrl = props.cookie\n    ? \"https://www.youtube.com\"\n    : \"https://www.youtube-nocookie.com\";\n  const iframeSrc = !props.playlist\n    ? `${ytUrl}/embed/${videoId}?autoplay=1${paramsImp}`\n    : `${ytUrl}/embed/videoseries?autoplay=1&list=${videoId}${paramsImp}`;\n\n  const activatedClassImp = props.activatedClass || \"lyt-activated\";\n  const adNetworkImp = props.adNetwork || false;\n  const iframeClassImp = props.iframeClass || \"\";\n  const playerClassImp = props.playerClass || \"lty-playbtn\";\n  const wrapperClassImp = props.wrapperClass || \"yt-lite\";\n  const onIframeAdded = props.onIframeAdded || function() {};\n\n  const warmConnections = () => {\n    if (preconnected) return;\n    setPreconnected(true);\n  };\n\n  const addIframe = () => {\n    if (iframe) return;\n    onIframeAdded()\n    setIframe(true);\n  };\n\n  return (\n    <>\n      <link rel=\"preload\" href={posterUrl} as=\"image\" />\n      <>\n        {preconnected && (\n          <>\n            <link rel=\"preconnect\" href={ytUrl} />\n            <link rel=\"preconnect\" href=\"https://www.google.com\" />\n            {adNetworkImp && (\n              <>\n                <link rel=\"preconnect\" href=\"https://static.doubleclick.net\" />\n                <link\n                  rel=\"preconnect\"\n                  href=\"https://googleads.g.doubleclick.net\"\n                />\n              </>\n            )}\n          </>\n        )}\n      </>\n      <div\n        onPointerOver={warmConnections}\n        onClick={addIframe}\n        className={`${wrapperClassImp} ${iframe && activatedClassImp}`}\n        data-title={videoTitle}\n        style={{ backgroundImage: `url(${posterUrl})` }}\n      >\n        <button\n          className={playerClassImp}\n          aria-label={`${announceWatch} ${videoTitle}`}></button>\n        {iframe && (\n          <iframe\n            className={iframeClassImp}\n            title={videoTitle}\n            width=\"560\"\n            height=\"315\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n            src={iframeSrc}\n          ></iframe>\n        )}\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;SA4BwB,gBAAgB,CAAC,KAAkB;IACnD,IAAA,KAAkC,QAAQ,CAAC,KAAK,CAAC,EAAhD,YAAY,QAAA,EAAE,eAAe,QAAmB,CAAC;IAClD,IAAA,KAAsB,QAAQ,CAAC,KAAK,CAAC,EAApC,MAAM,QAAA,EAAE,SAAS,QAAmB,CAAC;IAC5C,IAAM,OAAO,GAAG,kBAAkB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC7C,IAAM,oBAAoB,GAAG,OAAO,KAAK,CAAC,eAAe,KAAK,QAAQ,GAAG,kBAAkB,CAAC,KAAK,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC;IAC1H,IAAM,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC;IAC/B,IAAM,SAAS,GAAG,KAAK,CAAC,MAAM,IAAI,WAAW,CAAC;IAC9C,IAAM,SAAS,GAAG,MAAI,KAAK,CAAC,MAAQ,IAAI,EAAE,CAAC;IAC3C,IAAM,aAAa,GAAG,KAAK,CAAC,QAAQ,IAAI,OAAO,CAAC;IAChD,IAAM,SAAS,GAAG,CAAC,KAAK,CAAC,QAAQ;QAC/B,4BAA0B,OAAO,SAAI,SAAS,SAAM;QACpD,4BAA0B,oBAAoB,SAAI,SAAS,SAAM,CAAC;IACpE,IAAI,KAAK,GAAG,KAAK,CAAC,QAAQ;UACtB,kCAAkC;UAClC,yBAAyB,CAAC;IAC9B,KAAK,GAAG,KAAK,CAAC,MAAM;UAChB,yBAAyB;UACzB,kCAAkC,CAAC;IACvC,IAAM,SAAS,GAAG,CAAC,KAAK,CAAC,QAAQ;UAC1B,KAAK,eAAU,OAAO,mBAAc,SAAW;UAC/C,KAAK,2CAAsC,OAAO,GAAG,SAAW,CAAC;IAExE,IAAM,iBAAiB,GAAG,KAAK,CAAC,cAAc,IAAI,eAAe,CAAC;IAClE,IAAM,YAAY,GAAG,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC;IAC9C,IAAM,cAAc,GAAG,KAAK,CAAC,WAAW,IAAI,EAAE,CAAC;IAC/C,IAAM,cAAc,GAAG,KAAK,CAAC,WAAW,IAAI,aAAa,CAAC;IAC1D,IAAM,eAAe,GAAG,KAAK,CAAC,YAAY,IAAI,SAAS,CAAC;IACxD,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,IAAI,eAAa,CAAC;IAE3D,IAAM,eAAe,GAAG;QACtB,IAAI,YAAY;YAAE,OAAO;QACzB,eAAe,CAAC,IAAI,CAAC,CAAC;KACvB,CAAC;IAEF,IAAM,SAAS,GAAG;QAChB,IAAI,MAAM;YAAE,OAAO;QACnB,aAAa,EAAE,CAAA;QACf,SAAS,CAAC,IAAI,CAAC,CAAC;KACjB,CAAC;IAEF,QACE;QACE,8BAAM,GAAG,EAAC,SAAS,EAAC,IAAI,EAAE,SAAS,EAAE,EAAE,EAAC,OAAO,GAAG;QAClD,0CACG,YAAY,KACX;YACE,8BAAM,GAAG,EAAC,YAAY,EAAC,IAAI,EAAE,KAAK,GAAI;YACtC,8BAAM,GAAG,EAAC,YAAY,EAAC,IAAI,EAAC,wBAAwB,GAAG;YACtD,YAAY,KACX;gBACE,8BAAM,GAAG,EAAC,YAAY,EAAC,IAAI,EAAC,gCAAgC,GAAG;gBAC/D,8BACE,GAAG,EAAC,YAAY,EAChB,IAAI,EAAC,qCAAqC,GAC1C,CACD,CACJ,CACA,CACJ,CACA;QACH,6BACE,aAAa,EAAE,eAAe,EAC9B,OAAO,EAAE,SAAS,EAClB,SAAS,EAAK,eAAe,UAAI,MAAM,IAAI,iBAAiB,CAAE,gBAClD,UAAU,EACtB,KAAK,EAAE,EAAE,eAAe,EAAE,SAAO,SAAS,MAAG,EAAE;YAE/C,gCACE,SAAS,EAAE,cAAc,gBACV,aAAa,SAAI,UAAY,GAAW;YACxD,MAAM,KACL,gCACE,SAAS,EAAE,cAAc,EACzB,KAAK,EAAE,UAAU,EACjB,KAAK,EAAC,KAAK,EACX,MAAM,EAAC,KAAK,EACZ,WAAW,EAAC,GAAG,EACf,KAAK,EAAC,yEAAyE,EAC/E,eAAe,QACf,GAAG,EAAE,SAAS,GACN,CACX,CACG,CACL,EACH;AACJ;;"}